<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="dist/css/bootstrap.css">
<link rel="shortcut icon" href="favicon.ico">
</head>
<script type="text/javascript" src="jquery-3.1.0.min.js"></script>
<body>
	<button onclick="initMenu()">��������������?</button>
	<script type="text/javascript" src="index.js">
		
	</script>


	<a href="dis/t">dis Test</a>
	<a href="dis/t1/frank">show name</a>
	<a href="dis/owners/42;q=11/pets/21;q=22">show name</a>
	<form action="file_utils/upload" method="post"
		enctype="multipart/form-data">
		<input type="file" name="fileUpLoad"> <input type="submit"
			value="������">
	</form>

	<input type="file" id="fu" onchange="input_upload(this)">

	<div style="border: 1px solid red;">
		<form action="dis/uploadfiles" method="post"
			enctype="multipart/form-data">
			<input type="file" name="files"> <br> <input type="file"
				name="files"> <br> <input type="file" name="files">
			<br> <input type="submit" value="������">
		</form>
	</div>
	<div style="border: 1px solid red;">
		<form action="file_utils/uploadfiles" method="post"
			enctype="multipart/form-data">
			<input type="file" name="files"> <br> <input type="file"
				name="files"> <br> <input type="file" name="files">
			<br> <input type="submit" value="������">
		</form>
	</div>
	<div style="border: 1px solid red;">
		<form action="file_utils/uploaCompressPic" method="post"
			enctype="multipart/form-data">
			<input type="file" name="pictures"> <br> <input
				type="file" name="pictures"> <br> <input type="file"
				name="pictures"> <br> <input type="submit"
				value="������">
		</form>
	</div>



	<div style="border: 1px solid red;">
		<form action="dis/download" method="post">
			<!-- 	 enctype="multipart/form-data" -->
			<input type="text" name="path"> <input type="submit"
				value="������">
		</form>
	</div>


	<form action="dis/upload" method="post" enctype="multipart/form-data">
		<div>
			<label for="" class="control-label col-md-4">������������:</label>
			<div class="col-md-4 input-group">
				<input id="lefile" type="file" name="fileUpLoad"
					style="display: none"> <span class="input-group-addon"
					onclick="$('input[id=lefile]').click();"
					style="cursor: pointer; background-color: #e7e7e7"><i
					class="fa fa-folder-open"></i>Browse</span> <input id="photoCover"
					class="form-control" type="text"
					style="background-color: rgba(0, 0, 0, 0);"> <span
					class="fa fa-download form-control-feedback"
					style="cursor: pointer; pointer-events: auto;"></span>
			</div>
		</div>
		<input type="submit" value="������">
	</form>
	<div class="row">
		<div class="col-12 col-md-12">
			<div class="form-group">
				<label class="col-2 col-md-2">��������?</label> <input
					onchange="input_upload(this)" type="file"
					class="col-10 col-md-10 form-control" id="string_upload"> <img
					id="temp_img" style="width: 100px; height: 100px;">
				<button onclick="commit(this)" class="btn btn-default">submit</button>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$("#lefile").change(function() {
			var str = $("#lefile").val();
			var strs = str.split("\\");
			console.log(strs);
			/*   alert(strs); */
			$("#photoCover").val(strs[strs.length - 1])
		});

		function input_upload(this_) {
			console.log(this_.files[0]);
			var formData = new FormData();
			formData.append('fileUpLoad', this_.files[0]);
			$.ajax({
				url : "dis/upload",
				type : "POST",
				contentType : false,
				data : formData,
				processData : false,
				success : function(data) {
					console.log(data);
				},
				error : function(data) {
					console.log(data);
				}
			});
		}
	</script>

	<script>
		function input_upload(this_) {
			var file = new FileReader();
			var rFilter = /^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;
			if (this_.files.length === 0) {
				return;
			}

			var oFile = this_.files[0];
			if (!rFilter.test(oFile.type)) {
				alert("you must select a valid image file!");
				return;
			}

			file.readAsDataURL(oFile);
			file.onload = function(oFREvent) {
				$("#temp_img").attr("src", oFREvent.target.result);
			}
		}

		function commit(this_) {
			$.post("file_utils/upload_stream", {
				imgString : $("#temp_img").attr("src"),
			}, function(data) {
				console.log(data);
			});
		}
	</script>
	<input class="form-control">
	<button class="btn btn-error" onclick="sendmsg(this)">rabbitmq</button>
	<button onclick="setarr()">cnm</button>

	<button class="btn btn-link" onclick="sendArr()">����?������?</button>
	<button class="btn btn-link" onclick="create_menu()">create</button>
	<button class="btn btn-link" onclick="create_menu_()">create</button>

	<button class="btn btn-link" onclick="compare()">@ResponseBody</button>
	<div id="string_show"></div>


	<form action="material/upload_temp" method="post"
		enctype="multipart/form-data">
		<input name="type" value="image"> <input type="file"
			name="file">
		<button type="submit">提交</button>
	</form>
	<form action="material/upload_long" method="post"
		enctype="multipart/form-data">
		<input name="type" value="image"> <input type="file"
			name="file">
		<button type="submit">提交</button>
	</form>
</body>
</html>